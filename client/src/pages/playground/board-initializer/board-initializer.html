<template>
<require from="../../../utils/value-converters/string-to-number"></require>
<require from="../../../utils/custom-elements/image-gallery"></require>
<div class="full-height">

  <!--Board initializer-->
  <div class="col-md-6" style="height: 100%">
    <div class="panel with-nav-tabs panel-default" style="height: 100%">

      <div class="panel-heading">
        <ul class="nav nav-tabs">
          <li class="active"><a href="#tabbackground" data-toggle="tab">${ 'board-init.background-tab' & t }</a></li>
          <li><a href="#tabsprites" data-toggle="tab">${ 'board-init.sprites-tab' & t }</a></li>
          <button type="button" class="btn btn-success pull-right" style="margin: 1px;" click.delegate="saveBoard()">${ 'board-init.save-board' & t }</button>
        </ul>
      </div>

      <div class="panel-body">
        <div class="tab-content">

          <!--Backgound and game dimensions-->
          <div class="tab-pane fade in active" id="tabbackground">

            <!--Game dimensions-->
            <div class="form-inline">
              <div class="form-group">
                <label>${ 'board-init.game-dim-label' & t }</label>
                <br>
                <input type="text" class="form-control" value.bind="gameWidth | stringToNumber">
                <span>X</span>
                <input type="text" class="form-control" value.bind="gameHeight | stringToNumber">
                <button type="button" class="btn btn-secondary" click.delegate="resizeBoard()">${ 'board-init.game-dim-ok' & t }</button>
              </div>
            </div>

            <hr>

            <!--Background-->
            <div class="form-inline">
              <div class="form-group">
                <label>Background</label>
                <br>
                <button type="button" class="btn btn-default" click.delegate="submit()">Set background image</button>
                <small>${background.name || 'No background set'}</small>
                <button show.bind="background" type="button" class="close" aria-label="Close" style="margin: 7.5px 0px 0px 3px;" click.delegate="removeBackground()">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
            </div>

          </div>

          <!--Sprites-->
          <div class="tab-pane fade" id="tabsprites">
          </div>

        </div>
      </div>
    </div>
  </div>

  <!--Board preview-->
  <div class="col-md-6" style="height: 100%">
    <div class="full-height" style="border: solid 1px #ddd; border-radius: 2px; overflow: scroll;">
      <canvas id="board" class="full-height" style="border: 1px solid #ddd"></canvas>
    </div>
  </div>
</div>
</template>
